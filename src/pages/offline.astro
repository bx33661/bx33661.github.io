---
import Layout from '@/layouts/Layout.astro'
import PageHead from '@/components/PageHead.astro'
---

<Layout>
  <PageHead
    slot="head"
    title="离线模式"
    description="您当前处于离线状态，请检查网络连接。"
    noindex={true}
  />

  <div class="page">
    <h1>离线模式</h1>
    <p>当前网络未连接。你仍可以访问已缓存内容。</p>
    <p>
      <a href="/" class="button">返回首页</a>
      <span> </span>
      <a href="/blog/" class="button">浏览博客</a>
    </p>
    <p><button onclick="location.reload()">重新连接</button></p>
    <p id="network-status">检测网络状态中...</p>
  </div>

  <script>
    function updateNetworkStatus() {
      const statusEl = document.getElementById('network-status')
      if (!statusEl) return
      statusEl.textContent = navigator.onLine
        ? '网络已连接，可点击“重新连接”刷新页面'
        : '网络未连接'
    }

    window.addEventListener('online', updateNetworkStatus)
    window.addEventListener('offline', updateNetworkStatus)
    updateNetworkStatus()
  </script>
</Layout>
